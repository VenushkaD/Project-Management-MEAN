"use strict";(self.webpackChunkProject_Management=self.webpackChunkProject_Management||[]).push([[395],{6395:(y,d,i)=>{i.r(d),i.d(d,{AuthModule:()=>_});var c=i(6895),r=i(4006),g=i(3792),t=i(4650),m=i(9325),u=i(8379),C=i(7579),h=i(262),f=i(2843),M=i(8505),P=i(529),O=i(5867);let x=(()=>{class o{constructor(e,n,a){this.http=e,this.route=n,this.store=a,this.isAuthenticated=!0,this.errorMessage=new C.x}getAuthenticationStatus(){return this.isAuthenticated}getErrorMessageListener(){return this.errorMessage.asObservable()}login(e){this.http.post(m.T+"/auth/login",{...e}).pipe((0,h.K)(n=>{const a=new Error(n.error.msg);return this.errorMessage.next(a.message),(0,f._)(()=>n.error.msg)})).subscribe(n=>{console.log(n),this.store.dispatch((0,u.m)({user:n.user,token:n.token})),this.addToLocalStorage(n.user,n.token),this.route.navigate(["/"])})}register(e){this.http.post(m.T+"/auth/register",{...e}).pipe((0,h.K)(n=>{const a=new Error(n.error.msg);return this.errorMessage.next(a.message),(0,f._)(()=>a)}),(0,M.b)(n=>{console.log(n)})).subscribe(n=>{console.log(n),this.store.dispatch((0,u.m)({user:n.user,token:n.token})),this.addToLocalStorage(n.user,n.token),this.route.navigate(["/"])})}addToLocalStorage(e,n){localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",JSON.stringify(n))}autoLogin(){const e=localStorage.getItem("user"),n=localStorage.getItem("token");(e||n)&&(JSON.parse(localStorage.getItem("user")),JSON.parse(localStorage.getItem("token")))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(P.eN),t.LFG(g.F0),t.LFG(O.yh))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const p=function(o){return[o]},l=function(o){return[o]},b=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"login",component:(()=>{class o{constructor(e){this.auth=e,this.formError=!1,this.formErrorMessage="Please fill all the fields",this.loginForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,r.kI.minLength(6)])})}ngOnInit(){this.auth.getErrorMessageListener().subscribe(e=>{this.formError=!0,this.formErrorMessage=e,console.log(e),setTimeout(()=>{this.formError=!1,this.formErrorMessage="Please fill all the fields"},3e3)})}onSubmit(){if(this.loginForm.invalid)return this.formError=!0,console.log("invalid"),void setTimeout(()=>{this.formError=!1},3e3);this.auth.login({id:null,name:null,email:this.loginForm.value.email,password:this.loginForm.value.password,imageUrl:""})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:17,vars:11,consts:[[1,"container"],["src","assets/images/auth-cover.svg","alt","Register"],[3,"formGroup","submit"],[1,"error-msg",3,"ngClass"],[1,"inputs"],["type","text","placeholder","Email","formControlName","email",3,"ngClass"],["type","text","placeholder","Password","formControlName","password",3,"ngClass"],[1,"register"],["type","submit",1,"btn"],["routerLink","/auth/register"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2),t.NdJ("submit",function(){return n.onSubmit()}),t.TgZ(3,"h3"),t._uU(4,"Project Management"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"input",5)(9,"input",6),t.TgZ(10,"div",7)(11,"button",8),t._uU(12,"Login"),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Not a member? "),t.TgZ(15,"a",9),t._uU(16,"register"),t.qZA()()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.loginForm),t.xp6(3),t.Q6J("ngClass",t.VKq(5,p,n.formError?"error-msg-show":"")),t.xp6(1),t.hij(" ",n.formErrorMessage," "),t.xp6(2),t.Q6J("ngClass",t.VKq(7,p,n.loginForm.get("email").invalid&&n.loginForm.get("email").touched?"invalid-input":"")),t.xp6(1),t.Q6J("ngClass",t.VKq(9,p,n.loginForm.get("password").invalid&&n.loginForm.get("password").touched?"invalid-input":"")))},dependencies:[c.mk,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,g.yS],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 7rem);display:grid;grid-template-columns:1fr 1fr;justify-content:center;align-content:center;width:1200px;margin:auto;gap:100px}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:500px;margin:auto}form[_ngcontent-%COMP%]{background-color:#8f8f8f;width:80%;border-radius:20px;overflow:hidden;box-shadow:0 4px 4px #00000040}form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{background-color:#504f4f;padding:20px 10px;text-align:center;color:#fff;font-size:25px}.inputs[_ngcontent-%COMP%]{display:grid;gap:40px;background-color:transparent;border:none;width:80%;margin:30px auto 15px}input[_ngcontent-%COMP%]{padding:10px 15px;background-color:#d9d9d9;border-radius:20px;box-shadow:0 4px 4px #00000040}.register[_ngcontent-%COMP%]{display:grid;gap:10px;background-color:transparent}.btn[_ngcontent-%COMP%]{color:#000;background-color:#d9d9d9;padding:8px 10px;border-radius:20px;font-size:17px;width:100px;margin:auto;box-shadow:0 4px 4px #00000040}p[_ngcontent-%COMP%]{text-align:center;color:#fff}a[_ngcontent-%COMP%]{text-decoration:underline;color:#fff}.error-msg[_ngcontent-%COMP%]{display:none;color:#d46161;font-size:15px;margin:30px 30px 0;padding:10px 20px;text-align:center;background-color:#f3c9c9}.error-msg-show[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 1200px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;width:100%}form[_ngcontent-%COMP%]{margin:auto}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}input[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 400px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:18px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:13px}}@media screen and (max-width: 280px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:15px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:11px}}"]}),o})()},{path:"register",component:(()=>{class o{constructor(e){this.auth=e,this.formError=!1,this.formErrorMessage="Please fill all the fields",this.registerForm=new r.cw({name:new r.NI(null,[r.kI.required,r.kI.minLength(3)]),email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,r.kI.minLength(6)])})}ngOnInit(){this.auth.getErrorMessageListener().subscribe(e=>{this.formError=!0,this.formErrorMessage=e,console.log(e),setTimeout(()=>{this.formError=!1,this.formErrorMessage="Please fill all the fields"},3e3)})}onSubmit(){if(this.registerForm.invalid)return this.formError=!0,console.log("invalid"),void setTimeout(()=>{this.formError=!1},3e3);this.auth.register({id:null,name:this.registerForm.value.name,email:this.registerForm.value.email,password:this.registerForm.value.password,imageUrl:""})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],decls:18,vars:14,consts:[[1,"container"],["src","assets/images/auth-cover.svg","alt","Register"],[3,"formGroup","submit"],[1,"error-msg",3,"ngClass"],[1,"inputs"],["type","text","placeholder","Name","formControlName","name",3,"ngClass"],["type","text","placeholder","Email","formControlName","email",3,"ngClass"],["type","text","placeholder","Password","formControlName","password",3,"ngClass"],[1,"register"],["type","submit",1,"btn"],["routerLink","/auth/login"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2),t.NdJ("submit",function(){return n.onSubmit()}),t.TgZ(3,"h3"),t._uU(4,"Project Management"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"input",5)(9,"input",6)(10,"input",7),t.TgZ(11,"div",8)(12,"button",9),t._uU(13,"Register"),t.qZA(),t.TgZ(14,"p"),t._uU(15,"Already a member? "),t.TgZ(16,"a",10),t._uU(17,"login"),t.qZA()()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.registerForm),t.xp6(3),t.Q6J("ngClass",t.VKq(6,l,n.formError?"error-msg-show":"")),t.xp6(1),t.hij(" ",n.formErrorMessage," "),t.xp6(2),t.Q6J("ngClass",t.VKq(8,l,n.registerForm.get("name").invalid&&n.registerForm.get("name").touched?"invalid-input":"")),t.xp6(1),t.Q6J("ngClass",t.VKq(10,l,n.registerForm.get("email").invalid&&n.registerForm.get("email").touched?"invalid-input":"")),t.xp6(1),t.Q6J("ngClass",t.VKq(12,l,n.registerForm.get("password").invalid&&n.registerForm.get("password").touched?"invalid-input":"")))},dependencies:[c.mk,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,g.yS],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 7rem);display:grid;grid-template-columns:1fr 1fr;justify-content:center;align-content:center;width:1200px;margin:auto;gap:100px}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:500px;margin:auto}form[_ngcontent-%COMP%]{background-color:#8f8f8f;width:80%;border-radius:20px;overflow:hidden;box-shadow:0 4px 4px #00000040}form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{background-color:#504f4f;padding:20px 10px;text-align:center;color:#fff;font-size:25px}.inputs[_ngcontent-%COMP%]{display:grid;gap:40px;background-color:transparent;border:none;width:80%;margin:30px auto 15px}input[_ngcontent-%COMP%]{padding:10px 15px;background-color:#d9d9d9;border-radius:20px;box-shadow:0 4px 4px #00000040}.register[_ngcontent-%COMP%]{display:grid;gap:10px;background-color:transparent}.btn[_ngcontent-%COMP%]{color:#000;background-color:#d9d9d9;padding:8px 10px;border-radius:20px;font-size:17px;width:100px;margin:auto;box-shadow:0 4px 4px #00000040}p[_ngcontent-%COMP%]{text-align:center;color:#fff}a[_ngcontent-%COMP%]{text-decoration:underline;color:#fff}.error-msg[_ngcontent-%COMP%]{display:none;color:#d46161;font-size:15px;margin:30px 30px 0;padding:10px 20px;text-align:center;background-color:#f3c9c9}.error-msg-show[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 1200px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;width:100%}form[_ngcontent-%COMP%]{margin:auto}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}input[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 400px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:18px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:13px}}@media screen and (max-width: 280px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:15px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:11px}}"]}),o})()}];let w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(b),g.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,r.u5,r.UX,w]}),o})()}}]);