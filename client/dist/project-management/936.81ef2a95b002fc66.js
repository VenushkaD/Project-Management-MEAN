"use strict";(self.webpackChunkProject_Management=self.webpackChunkProject_Management||[]).push([[936],{9936:(v,m,s)=>{s.r(m),s.d(m,{AuthModule:()=>O});var p=s(6895),n=s(4006),g=s(3792),e=s(4650),d=s(384);const c=function(o){return[o]};let h=(()=>{class o{constructor(t){this.auth=t,this.formError=!1,this.formErrorMessage="Please fill all the fields",this.loginForm=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(6)])})}ngOnInit(){this.auth.getErrorMessageListener().subscribe(t=>{this.formError=!0,this.formErrorMessage=t,console.log(t),setTimeout(()=>{this.formError=!1,this.formErrorMessage="Please fill all the fields"},3e3)})}onSubmit(){if(this.loginForm.invalid)return this.formError=!0,console.log("invalid"),void setTimeout(()=>{this.formError=!1},3e3);this.auth.login({id:null,name:null,email:this.loginForm.value.email,password:this.loginForm.value.password,imageUrl:"",token:null})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:17,vars:11,consts:[[1,"container"],["src","assets/images/auth-cover.svg","alt","Register"],[3,"formGroup","submit"],[1,"error-msg",3,"ngClass"],[1,"inputs"],["type","text","placeholder","Email","formControlName","email",3,"ngClass"],["type","password","placeholder","Password","formControlName","password",3,"ngClass"],[1,"register"],["type","submit",1,"btn"],["routerLink","/auth/register"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"form",2),e.NdJ("submit",function(){return r.onSubmit()}),e.TgZ(3,"h3"),e._uU(4,"Project Management"),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4),e._UZ(8,"input",5)(9,"input",6),e.TgZ(10,"div",7)(11,"button",8),e._uU(12,"Login"),e.qZA(),e.TgZ(13,"p"),e._uU(14,"Not a member? "),e.TgZ(15,"a",9),e._uU(16,"register"),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",r.loginForm),e.xp6(3),e.Q6J("ngClass",e.VKq(5,c,r.formError?"error-msg-show":"")),e.xp6(1),e.hij(" ",r.formErrorMessage," "),e.xp6(2),e.Q6J("ngClass",e.VKq(7,c,r.loginForm.get("email").invalid&&r.loginForm.get("email").touched?"invalid-input":"")),e.xp6(1),e.Q6J("ngClass",e.VKq(9,c,r.loginForm.get("password").invalid&&r.loginForm.get("password").touched?"invalid-input":"")))},dependencies:[p.mk,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,g.yS],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 7rem);display:grid;grid-template-columns:1fr 1fr;justify-content:center;align-content:center;width:1200px;margin:auto;gap:100px}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:500px;margin:auto}form[_ngcontent-%COMP%]{background-color:#8f8f8f;width:80%;border-radius:10px;overflow:hidden;box-shadow:0 4px 4px #00000040}form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{background-color:#504f4f;padding:20px 10px;text-align:center;color:#fff;font-size:25px}.inputs[_ngcontent-%COMP%]{display:grid;gap:40px;background-color:transparent;border:none;width:80%;margin:30px auto 15px}input[_ngcontent-%COMP%]{padding:10px 15px;background-color:#d9d9d9;border-radius:10px;box-shadow:0 4px 4px #00000040}.register[_ngcontent-%COMP%]{display:grid;gap:10px;background-color:transparent}.btn[_ngcontent-%COMP%]{color:#000;background-color:#d9d9d9;padding:8px 10px;border-radius:20px;font-size:17px;width:100px;margin:auto;box-shadow:0 4px 4px #00000040}p[_ngcontent-%COMP%]{text-align:center;color:#fff}a[_ngcontent-%COMP%]{text-decoration:underline;color:#fff}.error-msg[_ngcontent-%COMP%]{display:none;color:#d46161;font-size:15px;margin:30px 30px 0;padding:10px 20px;text-align:center;background-color:#f3c9c9}.error-msg-show[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 1200px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;width:100%}form[_ngcontent-%COMP%]{margin:auto}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}input[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 400px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:18px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:13px}}@media screen and (max-width: 280px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:15px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:11px}}"]}),o})();const l=function(o){return[o]};let f=(()=>{class o{constructor(t){this.auth=t,this.formError=!1,this.formErrorMessage="Please fill all the fields",this.registerForm=new n.cw({name:new n.NI(null,[n.kI.required,n.kI.minLength(3)]),email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(6)])})}ngOnInit(){this.auth.getErrorMessageListener().subscribe(t=>{this.formError=!0,this.formErrorMessage=t,console.log(t),setTimeout(()=>{this.formError=!1,this.formErrorMessage="Please fill all the fields"},3e3)})}onSubmit(){if(this.registerForm.invalid)return this.formError=!0,console.log("invalid"),void setTimeout(()=>{this.formError=!1},3e3);this.auth.register({id:null,name:this.registerForm.value.name,email:this.registerForm.value.email,password:this.registerForm.value.password,imageUrl:"",token:null})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],decls:18,vars:14,consts:[[1,"container"],["src","assets/images/auth-cover.svg","alt","Register"],[3,"formGroup","submit"],[1,"error-msg",3,"ngClass"],[1,"inputs"],["type","text","placeholder","Name","formControlName","name",3,"ngClass"],["type","email","placeholder","Email","formControlName","email",3,"ngClass"],["type","password","placeholder","Password","formControlName","password",3,"ngClass"],[1,"register"],["type","submit",1,"btn"],["routerLink","/auth/login"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"form",2),e.NdJ("submit",function(){return r.onSubmit()}),e.TgZ(3,"h3"),e._uU(4,"Project Management"),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4),e._UZ(8,"input",5)(9,"input",6)(10,"input",7),e.TgZ(11,"div",8)(12,"button",9),e._uU(13,"Register"),e.qZA(),e.TgZ(14,"p"),e._uU(15,"Already a member? "),e.TgZ(16,"a",10),e._uU(17,"login"),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",r.registerForm),e.xp6(3),e.Q6J("ngClass",e.VKq(6,l,r.formError?"error-msg-show":"")),e.xp6(1),e.hij(" ",r.formErrorMessage," "),e.xp6(2),e.Q6J("ngClass",e.VKq(8,l,r.registerForm.get("name").invalid&&r.registerForm.get("name").touched?"invalid-input":"")),e.xp6(1),e.Q6J("ngClass",e.VKq(10,l,r.registerForm.get("email").invalid&&r.registerForm.get("email").touched?"invalid-input":"")),e.xp6(1),e.Q6J("ngClass",e.VKq(12,l,r.registerForm.get("password").invalid&&r.registerForm.get("password").touched?"invalid-input":"")))},dependencies:[p.mk,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,g.yS],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 7rem);display:grid;grid-template-columns:1fr 1fr;justify-content:center;align-content:center;width:1200px;margin:auto;gap:100px}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:500px;margin:auto}form[_ngcontent-%COMP%]{background-color:#8f8f8f;width:80%;border-radius:10px;overflow:hidden;box-shadow:0 4px 4px #0000}form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{background-color:#504f4f;padding:20px 10px;text-align:center;color:#fff;font-size:25px}.inputs[_ngcontent-%COMP%]{display:grid;gap:40px;background-color:transparent;border:none;width:80%;margin:30px auto 15px}input[_ngcontent-%COMP%]{padding:10px 15px;background-color:#d9d9d9;border-radius:5px;box-shadow:0 4px 4px #0000}.register[_ngcontent-%COMP%]{display:grid;gap:10px;background-color:transparent}.btn[_ngcontent-%COMP%]{color:#000;background-color:#d9d9d9;padding:8px 10px;border-radius:10px;font-size:17px;width:100px;margin:auto;box-shadow:0 4px 4px #0000}p[_ngcontent-%COMP%]{text-align:center;color:#fff}a[_ngcontent-%COMP%]{text-decoration:underline;color:#fff}.error-msg[_ngcontent-%COMP%]{display:none;color:#d46161;font-size:15px;margin:30px 30px 0;padding:10px 20px;text-align:center;background-color:#f3c9c9}.error-msg-show[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 1200px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;width:100%}form[_ngcontent-%COMP%]{margin:auto}.container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}input[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 400px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:18px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:13px}}@media screen and (max-width: 280px){form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:15px}.btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:11px}}"]}),o})();var u=s(8379),x=s(5867);function C(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Pick Image"),e.qZA())}function _(o,i){if(1&o&&e._UZ(0,"img",15),2&o){const t=e.oxw();e.Q6J("src",t.imagePicked,e.LSH)}}const M=function(){return["/"]},P=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"login",component:h},{path:"register",component:f},{path:"update",component:(()=>{class o{constructor(t,r,a){this.store=t,this.authService=r,this.router=a,this.imagePicked="",this.imageFile=null,this.updateForm=new n.cw({name:new n.NI(null,{validators:[n.kI.required,n.kI.minLength(3)]}),email:new n.NI(null,{validators:[n.kI.required,n.kI.email]}),image:new n.NI(null,{validators:[n.kI.required]})})}ngOnInit(){this.store.select("auth").subscribe(t=>{this.updateForm.setValue({name:t.user.name,email:t.user.email,image:null}),this.updateForm.get("image")?.updateValueAndValidity(),this.imagePicked=t.user.imageUrl})}handleFileInput(t){if(("image/png"===t.target.files[0]?.type||"image/jpeg"===t.target.files[0]?.type)&&t.target.files&&t.target.files.length){var r=new FileReader;r.onload=()=>{this.imagePicked=r.result,this.updateForm.get("image")?.updateValueAndValidity()},r.readAsDataURL(t.target.files[0]),this.imageFile=t.target.files[0]}}onSubmit(){if(this.updateForm.get("name").invalid||this.updateForm.get("email").invalid)return;const t=this.updateForm.get("name").value,r=this.updateForm.get("email").value;return this.imageFile?(console.log(this.updateForm.value,this.imageFile),void this.authService.updateUser(t,r,this.imageFile).subscribe(a=>{console.log(a),this.store.dispatch((0,u.BN)({user:a.user})),this.authService.updateLocalStorage(a.user),this.router.navigate(["/"])})):this.imageFile?void 0:(console.log(this.updateForm.value,this.imagePicked),void this.authService.updateUser(t,r,this.imagePicked).subscribe(a=>{console.log(a),this.store.dispatch((0,u.BN)({user:a.user})),this.authService.updateLocalStorage(a.user),this.router.navigate(["/"])}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.yh),e.Y36(d.e),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update"]],decls:26,vars:5,consts:[[1,"container"],[3,"formGroup","submit"],[1,"inputs"],[1,"input"],["for",""],["type","text","formControlName","name","placeholder","Name","value","John"],["type","text","formControlName","email","placeholder","Email","value","John"],["for","upload",1,"pick-image"],["pickImage",""],[4,"ngIf"],["alt","Project Image",3,"src",4,"ngIf"],["type","file","id","upload","formControlName","image","accept","image/png, image/gif, image/jpeg",2,"display","none",3,"change"],[1,"btns"],["type","submit",1,"btn"],["type","button",1,"btn",3,"routerLink"],["alt","Project Image",3,"src"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("submit",function(){return r.onSubmit()}),e.TgZ(2,"h3"),e._uU(3,"My Profile"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"label",4),e._uU(7,"Name"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",3)(10,"label",4),e._uU(11,"Email"),e.qZA(),e._UZ(12,"input",6),e.qZA(),e.TgZ(13,"div",3)(14,"label",4),e._uU(15,"Image"),e.qZA(),e.TgZ(16,"label",7,8),e.YNc(18,C,2,0,"p",9),e.YNc(19,_,1,1,"img",10),e.TgZ(20,"input",11),e.NdJ("change",function(w){return r.handleFileInput(w)}),e.qZA()()()(),e.TgZ(21,"div",12)(22,"button",13),e._uU(23,"Update"),e.qZA(),e.TgZ(24,"button",14),e._uU(25,"Cancel"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.updateForm),e.xp6(17),e.Q6J("ngIf",!r.imagePicked),e.xp6(1),e.Q6J("ngIf",r.imagePicked),e.xp6(5),e.Q6J("routerLink",e.DdM(4,M)))},dependencies:[p.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,g.rH],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 7rem);display:flex;justify-content:center;align-content:center;max-width:600px;width:90%;margin:40px auto 0}form[_ngcontent-%COMP%]{background-color:#d9d9d9;width:80%;border-radius:20px;overflow:hidden;box-shadow:0 4px 4px #00000040;margin:auto;display:grid}form[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{padding:20px 10px;text-align:center;color:#3f484e;font-size:25px}.inputs[_ngcontent-%COMP%]{display:grid;gap:40px;background-color:transparent;border:none;width:80%;margin:30px auto 15px}.input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}input[_ngcontent-%COMP%]{width:100%;padding:10px 15px;background-color:#fff;border-radius:20px;box-shadow:0 4px 4px #0000001a}.error-msg[_ngcontent-%COMP%]{display:none;color:#d46161;font-size:15px;margin:30px 30px 0;padding:10px 20px;text-align:center;background-color:#f3c9c9}.error-msg-show[_ngcontent-%COMP%]{display:block}.pick-image[_ngcontent-%COMP%]{height:300px;background-color:#fff;display:grid;cursor:pointer;border-radius:20px;box-shadow:0 4px 4px #0000001a;overflow:hidden;width:100%}.pick-image[_ngcontent-%COMP%]:hover{opacity:.8}.pick-image[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#7b7f82;margin:auto;align-items:center;font-size:15px}.pick-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:290px;width:90%;margin:auto;object-fit:scale-down}.btns[_ngcontent-%COMP%]{justify-self:center;margin-top:20px;margin-bottom:20px;display:flex;gap:20px}.btn[_ngcontent-%COMP%]{color:#fff;padding:8px 10px;border-radius:20px;font-size:15px;font-weight:500;box-shadow:0 4px 4px #0000001a;background-color:#3f484e;width:100px}.btn[_ngcontent-%COMP%]:nth-child(2){background-color:#676767}"]}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(P),g.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,n.u5,n.UX,b]}),o})()}}]);